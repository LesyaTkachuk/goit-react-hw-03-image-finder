{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Modal/Modal.module.css","components/App/App.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Button/Button.module.scss","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","api/picturesApi.js","utils/scroll.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.scss"],"names":["module","exports","Searchbar","state","value","handleChange","e","setState","target","handleSubmit","preventDefault","props","onSubmit","this","className","styles","searchBar","searchForm","type","button","label","input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","image","showModal","webformatURL","largeImageURL","item","src","alt","onClick","ImageGallery","images","imageGallery","map","key","id","Button","Modal","handleKeyDown","code","onClose","window","addEventListener","removeEventListener","overlay","modal","children","fetchPicturesByQuery","query","page","axios","get","then","response","data","hits","scroll","scrollTo","top","document","documentElement","scrollHeight","behavior","App","isLoading","imageUrlForModal","inputQuery","showNotif","fetchImages","picturesApi","pictures","length","prevState","catch","error","message","finally","toast","dark","imageURL","closeModal","prevProps","prevQuery","console","log","app","color","height","width","timeout","img","position","autoClose","newestOnTop","closeOnClick","pauseOnHover","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.51daccd7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__3LSdh\",\"image\":\"ImageGalleryItem_image__2rXmA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1eogj\",\"modal\":\"Modal_modal__1nBhR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__dxBwA\",\"img\":\"App_img__9teSa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__26TyE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3T5D4\"};","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Searchbar.module.scss\";\r\n\r\nclass Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    value: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { value } = this.state;\r\n\r\n    this.props.onSubmit(value);\r\n\r\n    this.setState({ value: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <header className={styles.searchBar}>\r\n        <form className={styles.searchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.button}>\r\n            <span className={styles.label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={value}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.scss\";\r\n\r\nfunction ImageGalleryItem({ image, showModal }) {\r\n  const { webformatURL, largeImageURL } = image;\r\n  return (\r\n    <li className={styles.item}>\r\n      <img\r\n        src={webformatURL}\r\n        alt=\"\"\r\n        className={styles.image}\r\n        onClick={() => showModal(largeImageURL)}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  showModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport styles from \"./ImageGallery.module.scss\";\r\n\r\nfunction ImageGallery({ images, showModal }) {\r\n  return (\r\n    <ul className={styles.imageGallery}>\r\n      {images.map((image) => (\r\n        <ImageGalleryItem key={image.id} image={image} showModal={showModal} />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    })\r\n  ).isRequired,\r\n  showModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Button.module.scss\";\r\n\r\nfunction Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" className={styles.button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    imageURL: PropTypes.string.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.overlay}>\r\n        <div className={styles.modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Modal;\r\n","import axios from \"axios\";\r\n\r\nconst myKey = \"16289241-4573a8dd8ec62d75602da9e3c\";\r\n\r\nfunction fetchPicturesByQuery(query, page) {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${query}&key=${myKey}&image_type=photo&orientation=horizontal&page=${page}&per_page=12`\r\n    )\r\n    .then((response) => response.data.hits);\r\n}\r\n\r\nexport default {\r\n  fetchPicturesByQuery,\r\n};\r\n","export default function scroll() {\r\n  return window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: \"smooth\",\r\n  });\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\n\r\nimport Searchbar from \"../Searchbar/Searchbar\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\r\nimport Button from \"../Button/Button\";\r\nimport Modal from \"../Modal/Modal\";\r\n\r\nimport picturesApi from \"../../api/picturesApi\";\r\nimport scroll from \"../../utils/scroll\";\r\n\r\nimport styles from \"./App.module.scss\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    images: [],\r\n    query: \"\",\r\n    isLoading: false,\r\n    page: 1,\r\n    imageUrlForModal: \"\",\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.query;\r\n    const { query } = this.state;\r\n\r\n    console.log(prevQuery);\r\n    console.log(query);\r\n\r\n    if (prevQuery !== query) {\r\n      this.fetchImages();\r\n    }\r\n  }\r\n\r\n  inputQuery = (query) => {\r\n    if (!query) {\r\n      this.showNotif(\"Please, enter some query\");\r\n      return;\r\n    }\r\n    this.setState({ query, images: [], page: 1 });\r\n  };\r\n\r\n  fetchImages = () => {\r\n    this.setState({ isLoading: true });\r\n    const { query, page } = this.state;\r\n\r\n    picturesApi\r\n      .fetchPicturesByQuery(query, page)\r\n      .then((pictures) => {\r\n        if (pictures.length === 0) {\r\n          this.showNotif(\"No matches\");\r\n          return;\r\n        }\r\n        this.setState((prevState) => ({\r\n          images: [...prevState.images, ...pictures],\r\n          page: prevState.page + 1,\r\n        }));\r\n      })\r\n      .catch((error) => this.showNotif(`Woops...${error.message}`))\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n        scroll();\r\n        // window.scrollTo({\r\n        //   top: document.documentElement.scrollHeight,\r\n        //   behavior: \"smooth\",\r\n        // });\r\n      });\r\n  };\r\n\r\n  showNotif = (message) => {\r\n    this.setState({ showNotif: true });\r\n    toast.dark(`🦄 ${message}`);\r\n  };\r\n\r\n  showModal = (imageURL) => {\r\n    this.setState({ imageUrlForModal: imageURL });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ imageUrlForModal: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { images, isLoading, imageUrlForModal } = this.state;\r\n\r\n    return (\r\n      <div className={styles.app}>\r\n        <Searchbar onSubmit={this.inputQuery} />\r\n        {images.length > 0 && (\r\n          <ImageGallery images={images} showModal={this.showModal} />\r\n        )}\r\n\r\n        {isLoading && (\r\n          <Loader\r\n            type=\"Puff\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000} //3 secs\r\n          />\r\n        )}\r\n        {images.length > 0 && !isLoading && (\r\n          <Button onClick={this.fetchImages} />\r\n        )}\r\n        {imageUrlForModal && (\r\n          <Modal onClose={this.closeModal}>\r\n            <img className={styles.img} src={imageUrlForModal} alt=\"picture from the gallery\" />\r\n          </Modal>\r\n        )}\r\n\r\n        <ToastContainer\r\n          position=\"top-center\"\r\n          autoClose={5000}\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          pauseOnHover\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/App\";\nimport \"./assets/base.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"Searchbar_searchBar__1tGqH\",\"searchForm\":\"Searchbar_searchForm__3sZ5Q\",\"button\":\"Searchbar_button__1qTkO\",\"label\":\"Searchbar_label__3hXCe\",\"input\":\"Searchbar_input__28SXJ\"};"],"sourceRoot":""}